<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
	
	
	<c:set var="questionsLeft" value="#{backingBeanRef.currentTest.questions.size()
		- backingBeanRef.studentTest.studentAnswers.size()}" />
	
	<div class="modal fade" id="modalFinishStudentTest" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog">
            <div class="modal-content">
            	<div class="modal-header">
				    <button type="button" class="btn-close"
				    	data-bs-dismiss="modal" aria-label="#{msg.label_close}" />
				</div>
				
				<div class="modal-body text-center d-flex flex-column align-items-center my-3">
					<div class="mb-3">
						<h:graphicImage name="img/65bbcf9c-7096-422c-877f-684289fefbde.png"
					        styleClass="img-fluid" style="max-height: 200px;" />
					</div>
					
					<h3 class="fw-bold mb-2">Â¿#{msg.label_finish_test}?</h3>
					
 					<h:outputFormat value="#{msg.label_there_are_xxx_questions_left_to_answer}"
			        	styleClass="bg-warning-subtle text-warning-emphasis rounded px-3 py-2"
			        	rendered="#{questionsLeft gt 0}">
			            <f:param value="#{questionsLeft}" />
			        </h:outputFormat>
			        
			        <h:outputFormat value="#{msg.label_you_have_anwered_all_the_questions}"
			        	styleClass="bg-success-subtle text-success-emphasis rounded px-3 py-2"
			        	rendered="#{questionsLeft eq 0}">
			            <f:param value="#{questionsLeft}" />
			        </h:outputFormat>
				</div>
				
				<div class="modal-footer">
                	<button type="button" class="btn btn-light" data-bs-dismiss="modal">
                		#{msg.label_cancel}
               		</button>
                		
				    <a4j:commandButton value="#{msg.label_yes}, #{msg.label_finish}"
				    	actionListener="#{backingBeanRef['finishTest']()}"
				    	oncomplete="closeModal('modalFinishStudentTest');"
				    	styleClass="btn btn-warning fw-bold"
				    	render="StTeFrId" />
				</div>
            </div>
        </div>
    </div>
    
</html>
