<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	
	
	<div class="modal fade" id="modalStudentForm" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">#{backingBeanRef.currentObject.id ne null
                    	? msg.label_edit_student : msg.label_new_student}</h5>
                    <button type="button" class="btn-close"
                    	data-bs-dismiss="modal" aria-label="#{msg.label_close}" />
                </div>
                
                <div class="modal-body">
                 	<div class="mb-3">
				        <h:outputLabel value="#{msg.label_class}"
				        	styleClass="form-label" />
				        <h:selectOneMenu value="#{backingBeanRef.currentObject.studentGroup.id}"
							styleClass="form-select">
							<f:selectItem itemLabel="#{msg.label_select}"/>
							<f:selectItems value="#{backingBeanRef.studentGroupComboList}"
								var="x" itemValue="#{x.key}" itemLabel="#{x.value}" />
						</h:selectOneMenu>	
				   </div>
                
                	<div class="mb-3">
				        <h:outputLabel value="#{msg.label_student_id}"
				        	styleClass="form-label" />
				        <h:inputText value="#{backingBeanRef.currentObject.identifier}"
				        	styleClass="form-control" />
				    </div>
                
                	<div class="mb-3">
				        <h:outputLabel value="#{msg.label_name}"
				        	styleClass="form-label" />
				        <h:inputText value="#{backingBeanRef.currentObject.name}"
				        	styleClass="form-control" />
				    </div>
				    
                    <div class="mb-3">
                    	<h:outputLabel value="#{msg.label_birth_date}"
				        	styleClass="form-label" />
				        <h:inputText value="#{backingBeanRef.currentObject.birthDate}"
				        	styleClass="form-control flatpickr-field"
				        	converter="localDateConverter" />
			        </div>
			        
				    <div class="mb-3">
				        <h:outputLabel value="#{msg.label_gender}"
				        	styleClass="form-label" />
				        <h:selectOneMenu value="#{backingBeanRef.currentObject.genderId}"
							styleClass="form-select">
							<f:selectItems value="#{backingBeanRef.genderTypeComboList}"
								var="x" itemValue="#{x.key}" itemLabel="#{x.value}" />
						</h:selectOneMenu>	
				   </div>
                </div>
                
                <div class="modal-footer">
                	<button type="button" class="btn btn-light" data-bs-dismiss="modal">
                		#{msg.label_cancel}
               		</button>
                		
				    <a4j:commandButton value="#{backingBeanRef.currentObject.id ne null
				    	? msg.label_update : msg.label_create}"
				    	action="#{backingBeanRef['save']()}"
				    	oncomplete="if(#{!backingBeanRef.showErrorMessage}){
				    		closeModal('modalStudentForm');}"
				    	styleClass="btn btn-primary"
				    	render="StSeLiId, alertContainer" />
				</div>
            </div>
        </div>
    </div>
    
    <script>
    	flatpickr(".flatpickr-field", {
    		dateFormat: "d-m-Y"
   		});
	</script>
	
</html>
