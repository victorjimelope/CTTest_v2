<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	
	
	<div class="modal fade" id="modalTestForm" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">#{backingBeanRef.currentObject.id ne null
                    	? msg.label_edit_test : msg.label_new_test}</h5>
                    <button type="button" class="btn-close"
                    	data-bs-dismiss="modal" aria-label="#{msg.label_close}" />
                </div>
                
                <div class="modal-body">
				    <div class="mb-3">
				        <h:outputLabel value="#{msg.label_center}"
				        	styleClass="form-label" />
				        <h:selectOneMenu value="#{backingBeanRef.currentObject.centerId}"
				        	disabled="#{!loggedUserBean.loggedUserAdmin}"
							styleClass="form-select">
							<f:selectItem itemLabel="#{msg.label_select}"/>
							<f:selectItems value="#{backingBeanRef.centerComboList}"
								var="x" itemValue="#{x.key}" itemLabel="#{x.value}" />
						</h:selectOneMenu>	
				    </div>
                
                    <div class="mb-3">
				        <h:outputLabel value="#{msg.label_name}"
				        	styleClass="form-label" />
				        <h:inputText value="#{backingBeanRef.currentObject.name}"
				        	styleClass="form-control" />
				    </div>
				    
				    <div class="mb-3">
				        <h:outputLabel value="#{msg.label_description} (#{fn:toLowerCase(msg.label_optional)})"
				        	styleClass="form-label" />
				        <h:inputTextarea value="#{backingBeanRef.currentObject.description}"
				        	styleClass="form-control" style="resize: none;" rows="4"/>
				    </div>
                </div>
                
                <div class="modal-footer">
                	<button type="button" class="btn btn-light" data-bs-dismiss="modal">
                		#{msg.label_cancel}
               		</button>
                		
				    <a4j:commandButton value="#{backingBeanRef.currentObject.id ne null
				    	? msg.label_update : msg.label_create}"
				    	action="#{backingBeanRef['save']()}"
				    	oncomplete="if(#{!backingBeanRef.showErrorMessage}){
				    		closeModal('modalTestForm');}"
				    	styleClass="btn btn-primary"
				    	render="TeSeLiId, alertContainer" />
				</div>
            </div>
        </div>
    </div>
    
</html>
